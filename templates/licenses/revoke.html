{% extends 'base.html' %}
{% load static %}

{% block title %}Revoke License - Ralfiz BMS{% endblock %}

{% block breadcrumb %}
<a href="{% url 'dashboard' %}" class="breadcrumb-item">Dashboard</a>
<span class="breadcrumb-separator">/</span>
<a href="{% url 'license_list' %}" class="breadcrumb-item">Licenses</a>
<span class="breadcrumb-separator">/</span>
<span class="breadcrumb-item active">Revoke</span>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-6 col-md-8 col-sm-12">
    <div class="card">
      <div class="card-body text-center py-5">
        <div class="stats-icon bg-danger-light mx-auto mb-4" style="width: 80px; height: 80px; border-radius: 50%;">
          <i class="fas fa-ban text-danger" style="font-size: 36px;"></i>
        </div>

        <h2 class="mb-2">Revoke License?</h2>
        <p class="text-muted mb-4">
          Are you sure you want to revoke this license? This action cannot be undone.
        </p>

        <div class="card bg-light mb-4 mx-auto" style="max-width: 400px;">
          <div class="card-body">
            <div class="mb-2">
              <code style="font-size: 13px;">{{ license.license_code }}</code>
            </div>
            <div class="fw-medium">{{ license.customer_name }}</div>
            {% if license.customer_email %}
            <div class="text-sm text-muted">{{ license.customer_email }}</div>
            {% endif %}
          </div>
        </div>

        <div class="alert alert-warning text-start mb-4 mx-auto" style="max-width: 400px;">
          <i class="fas fa-exclamation-triangle me-2"></i>
          <strong>Warning:</strong> Revoking this license will:
          <ul class="mb-0 mt-2">
            <li>Immediately deactivate all devices</li>
            <li>Prevent future activations</li>
            <li>Show "License Revoked" error in the app</li>
          </ul>
        </div>

        <form method="post">
          {% csrf_token %}
          <div class="d-flex gap-3 justify-content-center">
            <a href="{% url 'license_detail' license.pk %}" class="btn btn-outline-secondary">
              Cancel
            </a>
            <button type="submit" class="btn btn-danger">
              <i class="fas fa-ban me-2"></i>
              Revoke License
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}